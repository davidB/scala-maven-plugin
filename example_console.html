<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/xdoc/example_console.xml.vm at 2025-03-28 18:21
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <meta name="author" content="David Bernard" />
    <title>Example – scala-maven-plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="./">scala-maven-plugin</a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="https://www.scala-lang.org/"><img src="images/logos/scala.svg" style="width: 30px;height: 49px;" /> Scala-lang</a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-03-28 18:21<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 4.9.3</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://groups.google.com/group/maven-and-scala">Mailing-list</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="wiki/frequently-asked-questions">FAQ</a></li>
        <li class="pull-right"><a href="wiki">Wiki</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="plugin-info.html">Goals</a></li>
    <li><a href="usage.html">Usage</a></li>
    <li><a href="faq.html">FAQ</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="example_compile.html">Compiling</a></li>
    <li><a href="example_incremental.html">Incremental Compile</a></li>
    <li><a href="example_cc.html">Continuous Compilation</a></li>
    <li><a href="example_cctest.html">Continuous Testing</a></li>
    <li><a href="example_doc.html">Scaladoc</a></li>
    <li><a href="example_run.html">Running</a></li>
    <li><a href="example_script.html">Scripting</a></li>
    <li class="active"><a>Scala Console</a></li>
    <li><a href="example_java.html">Mixed Java/Scala Projects</a></li>
    <li><a href="example_scalac_plugins.html">Creating Scalac Plugins</a></li>
    <li><a href="articles.html">Articles...</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org" class="builtBy"><img class="builtBy" src="https://maven.apache.org/images/logos/maven-feather.png" /> Build with Maven</a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">

  
    <section><a id="Running_a_scala_console"></a>
<h1>Running a scala console</h1>

    <section><a id="Running"></a>
<h1>Running</h1>
      
<p>
        You can start a console with a classpath set with the project dependencies (compile, test, runtime) and compiler classes (main and test):
        </p>
<ol style="list-style-type: decimal;">
        
<li>compile your code (running the console doesn't force to compile:
          
<pre class="prettyprint"><code>mvn test-compile #or mvn test</code></pre>
        </li>
        
<li>run the console :
          
<pre class="prettyprint"><code>mvn scala:console</code></pre>
        </li>
        
<li>when the scala prompt is shown, play :
      
<pre class="prettyprint"><code>...
[INFO] [scala:console]
Welcome to Scala version 2.6.0-final.
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; print(&quot;hello&quot;)
hello
scala&gt; new bootstrap.liftweb.Boot().boot
...</code></pre>
        </li>
        </ol>
      
    </section>

    <section><a id="pre.2Fpost_action"></a>
<h1>pre/post action</h1>
    
<p>If you want to always run some code before use the console or after use it, and don't want to type it at every startup. Then you could wrap the console into a scala main().</p>
    
<p>I'll show an example with the LiftConsole. A good pratice is to put this class in the test directory (it's not part of the main code ;) )</p>
    
<ol style="list-style-type: decimal;">
    
<li>add into the pom.xml the jar with the scala 's console
    
<pre class="prettyprint"><code>&lt;dependency&gt;
  &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;
  &lt;artifactId&gt;scala-compiler&lt;/artifactId&gt;
  &lt;version&gt;${scala.version}&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
     </li>
    
<li>create the scala file src/test/scala/LiftConsole.scala (based on liftrepl)
    
<pre class="prettyprint"><code>import bootstrap.liftweb.Boot
import scala.tools.nsc.MainGenericRunner

object LiftConsole {
   def main(args : Array[String]) {
     // Instantiate your project's Boot file
     val b = new Boot();
     // Boot your project
     b.boot;
     // Now run the MainGenericRunner to get your repl
     MainGenericRunner.main(args)
     // After the repl exits, then exit the scala script
     exit(0)
   }
}</code></pre>
     </li>
     
<li>compile: 
<pre class="prettyprint"><code>mvn test</code></pre></li>
     
<li>run : 
<pre class="prettyprint"><code>mvn scala:console -DmainConsole=LiftConsole</code></pre></li>
     
<li>if you don't want to always need to set &quot;-DmainConsole=LiftConsole&quot;,
      then edit your pom.xml and add to the configuration of the plugin :
    
<pre class="prettyprint"><code>&lt;plugin&gt;
  &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
  &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;4.9.3&lt;/version&gt;
  &lt;configuration&gt;
    &lt;mainConsole&gt;LiftConsole&lt;/mainConsole&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
      </li>
  </ol>

    </section>

    <section><a id="running_with_JavaRebel"></a>
<h1>running with JavaRebel</h1>
    
<p>If you want to run the console with <a href="">JavaRebel</a>, you need :
     </p>
<ol style="list-style-type: decimal;">
     
<li>install javarebel somewhere on your disk, javarebel is available on a public maven repository (commercial tool)</li>
     
<li>call the console with the option define where is the javarebel.jar:
       
<pre class="prettyprint"><code>mvn scala:console -Djavarebel.jar.path=[path_of_javarebel.jar]</code></pre>
       or through the pom.xml
    
<pre class="prettyprint"><code>&lt;plugin&gt;
  &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
  &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;4.9.3&lt;/version&gt;
  &lt;configuration&gt;
    &lt;javaRebelPath&gt;${user.home}/lib/java/javarebel/javarebel.jar&lt;/javaRebelPath&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
    </li>
    
<li><b>NOTE</b> - Forking is currently disabled in the plugin due to cross-platform issues with jline and process indirection.
        If you wish to use JRebel with the console, please set your maven opts in your environment:
        
<pre class="prettyprint"><code>MAVEN_OPTS=&quot;$MAVEN_OPTS -noverify -javaagent:/...path/to/jrebel.jar&quot; mvn scala:console</code></pre>
    </li>
    </ol>
    
    </section>
  
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2012–2025
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
