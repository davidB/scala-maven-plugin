<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/xdoc/example_incremental.xml.vm at 2024-05-18 20:16

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>scala-maven-plugin &#x2013; scala-maven-plugin</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="./" id="bannerLeft">scala-maven-plugin
</a><a href="http://www.scala-lang.org/" id="bannerRight"><img src="images/logos/scala.svg"  alt="Scala-lang" width="30" height="49"/></a>      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2024-05-18 20:16</span>
           | <span id="projectVersion">Version: 4.9.1</span>
      </div>
      <div class="xright"><a href="wiki" title="Wiki">Wiki</a> |
<a href="wiki/frequently-asked-questions" title="FAQ">FAQ</a> |
<a href="http://groups.google.com/group/maven-and-scala" class="externalLink" title="Mailing-list">Mailing-list</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Overview</h5>
    <ul>
     <li class="none"><a href="index.html" title="Introduction">Introduction</a></li>
     <li class="none"><a href="plugin-info.html" title="Goals">Goals</a></li>
     <li class="none"><a href="usage.html" title="Usage">Usage</a></li>
     <li class="none"><a href="faq.html" title="FAQ">FAQ</a></li>
    </ul>
       <h5>Examples</h5>
    <ul>
     <li class="none"><a href="example_compile.html" title="Compiling">Compiling</a></li>
     <li class="none"><strong>Incremental Compile</strong></li>
     <li class="none"><a href="example_cc.html" title="Continuous Compilation">Continuous Compilation</a></li>
     <li class="none"><a href="example_cctest.html" title="Continuous Testing">Continuous Testing</a></li>
     <li class="none"><a href="example_doc.html" title="Scaladoc">Scaladoc</a></li>
     <li class="none"><a href="example_run.html" title="Running">Running</a></li>
     <li class="none"><a href="example_script.html" title="Scripting">Scripting</a></li>
     <li class="none"><a href="example_console.html" title="Scala Console">Scala Console</a></li>
     <li class="none"><a href="example_java.html" title="Mixed Java/Scala Projects">Mixed Java/Scala Projects</a></li>
     <li class="none"><a href="example_scalac_plugins.html" title="Creating Scalac Plugins">Creating Scalac Plugins</a></li>
     <li class="none"><a href="articles.html" title="Articles...">Articles...</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org" title="Build with Maven" class="poweredBy">
        <img class="poweredBy"  alt="Build with Maven" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">

  
    <h1>Incremental Compile</h1>

    
<p>
      Incremental compilation is supported using
      <a class="externalLink" href="https://github.com/sbt/zinc">Zinc</a>,
      sbt's embedded incremental compiler.
    </p>

    <section>
<h2><a name="Setup"></a>Setup</h2>
      
<p>
        The incremental compilation is enabled by default after
        scala-maven-plugin v4.0.0, and the &quot;recompileMode&quot; configuration
        option is set to &quot;incremental&quot; by default. You can also configure
        the `recompileMode` configuration to `all` to disable the
        incremental comiler. For example:
      </p>
      
<div class="source">
<pre>
        
&lt;project&gt;
  ...
  &lt;plugin&gt;
    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;4.9.1&lt;/version&gt;
    &lt;configuration&gt;
      &lt;recompileMode&gt;incremental&lt;/recompileMode&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
  ...
&lt;/project&gt;
        
      </pre></div>
    </section>

    <section>
<h2><a name="Increasing_Memory"></a>Increasing Memory</h2>
      Increasing memory for incremental compilation is different from regular
      compiles where the &quot;jvmArgs&quot; option is used. The incremental compiler
      does not fork a separate process for compilation, so increasing memory
      is done by increasing the memory for the Maven process. This can be done
      via the &quot;MAVEN_OPTS&quot; environment variable.
    </section>

    <section>
<h2><a name="Mixed_Scala_and_Java_Sources"></a>Mixed Scala and Java Sources</h2>
      
<p>
        The incremental compiler will compile both Scala and Java sources, rather
        than deferring to the Maven Compiler Plugin for Java compilation. It does
        this so that analyses for both Scala and Java sources are calculated,
        giving incremental compilation across all sources.
      </p>
      
<p>
        To configure a project with mixed Scala and Java sources with incremental
        compilation, the Scala Maven Plugin should always compile before the
        Maven Compiler Plugin. See the examples for
        <a href="example_java.html">Mixed Java/Scala Projects</a>.
      </p>
      
<p>
        Any javac arguments must be configured for the Scala Maven Plugin, rather
        than the Maven Compiler Plugin, and are configured with the &quot;javacArgs&quot;
        configuration option, similar to the &quot;args&quot; option for scalac options.
        For example:
      </p>
      
<div class="source">
<pre>
        
&lt;project&gt;
  ...
  &lt;plugin&gt;
    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;4.9.1&lt;/version&gt;
    &lt;configuration&gt;
      &lt;recompileMode&gt;incremental&lt;/recompileMode&gt;
      &lt;javacArgs&gt;
        &lt;javacArg&gt;-Xlint:unchecked&lt;/javacArg&gt;
        &lt;javacArg&gt;-Xlint:deprecation&lt;/javacArg&gt;
      &lt;/javacArgs&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
  ...
&lt;/project&gt;
        
      </pre></div>
      
<p>
        The incremental compiler will by default handle mixed compile order for
        Scala and Java sources. That is, Scala and Java sources can depend on each
        other. If you have a specific order, Scala depending on Java, or Java
        depending on Scala, then you can specify the compile ordering to use with
        the &quot;compileOrder&quot; configuration option. Possible values are &quot;Mixed&quot; (the
        default), &quot;JavaThenScala&quot; (alternatively &quot;java-then-scala&quot; or just &quot;java&quot;),
        and &quot;ScalaThenJava&quot; (alternatively &quot;scala-then-java&quot; or just &quot;scala&quot;).
      </p>
    </section>

    <section>
<h2><a name="Analysis_Cache"></a>Analysis Cache</h2>
      
<p>
        The incremental compiler creates an extra output file per compilation.
        This is a cache of the analysis information required by the incremental
        compiler, used to determine which files to compile after changes. If you
        set a custom output directory in your project then you may also want to
        set the location of the analysis cache file. You can do this with the
        &quot;analysisCacheFile&quot; and &quot;testAnalysisCacheFile&quot; configuration options.
        For example:
      </p>
      
<div class="source">
<pre>
        
&lt;project&gt;
  ...
  &lt;plugin&gt;
    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;
    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;4.9.1&lt;/version&gt;
    &lt;configuration&gt;
      &lt;recompileMode&gt;incremental&lt;/recompileMode&gt;
      &lt;analysisCacheFile&gt;path/to/analysis-cache-file&lt;/analysisCacheFile&gt;
      &lt;testAnalysisCacheFile&gt;path/to/test-analysis-cache-file&lt;/testAnalysisCacheFile&gt;
    &lt;/configuration&gt;
  &lt;/plugin&gt;
  ...
&lt;/project&gt;
        
      </pre></div>
    </section>

  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2012&#x2013;2024..      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
